Для связи продуктов и категорий создана третья связующая таблица для
организации связи М:М. В таблицах с продуктами и категориями
хранятся id и название. В третьей таблице product_category хранятся
внешние ключи, ссылающиеся на записи в продуктах и категориях.
Сначала связывается третья таблица и продукты с "правой стороны",
чтобы множество продуктов полностью входило в результат, после чего
полученное множество и категории соединяются с "левой стороны", чтобы
все продукты остались на месте, и к ним добавились категории при наличии
или NULL, если их нет